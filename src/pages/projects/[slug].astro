---
import ProjectLayout from '../../layouts/ProjectLayout.astro';
import MeetingMinutes from '../../components/MeetingMinutes.astro';
import ProjectLog from '../../components/ProjectLog.astro';
import ProjectOverview from '../../components/ProjectOverview.astro';

const { projectId } = Astro.params;

// Fetch project data based on projectId
const project = {
  id: projectId,
  title: `Project ${projectId}`,
  description: `Description of Project ${projectId}`,
  // Add more project details as needed
};

const meetingMinutes = await getCollection(
  'projects',
  projectId,
  'meeting-minutes',
);
const projectLog = await getCollection('projects', projectId, 'project-log');
const projectOverview = await getCollection(
  'projects',
  projectId,
  'project-overview',
);
---

<ProjectLayout>
  <h1>{project.title}</h1>
  <p>{project.description}</p>
  <ProjectOverview overview={projectOverview} />
  <ProjectLog log={projectLog} />
  <h2>Meeting Minutes</h2>
  {meetingMinutes.map((minutes) => <MeetingMinutes minutes={minutes} />)}
</ProjectLayout>
